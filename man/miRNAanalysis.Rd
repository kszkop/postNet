% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/miRNAanalysis.R
\name{miRNAanalysis}
\alias{miRNAanalysis}
\title{ miRNA enrichment analysis }

\usage{
miRNAanalysis(a2sU, miRNATargetScanFile, genesSlopeFiltOut = NULL)
}

\arguments{
\item{a2sU}{ anota2seqUtils class object created using anota2seqUtilsStart function }
\item{miRNATargetScanFile}{ name of a file including a path with predicted (conserved) targets of conserved miRNA families with context++ scores downloaded from the Target Scan database (https://www.targetscan.org). Important, please subset the file for only desired specie. }
\item{genesSlopeFiltOut}{ optionally, a character vector with gene ids to be filtered out based on slopes calculated by anota2seq for translation and buffering. The required object can be obtained using the slopeFilt function }
}

\value{

}

\description{
Employing gage and information about miRNA from the Target Scan database to obtain information about the enrichment of miRNA in a given dataset.
}

\details{
For each mRNA targeted by each mRNA, CWCS information on the repression magnitude is obtained. Data is filtered out based on that score (the lower the score the better repression) and Site.type  - 1 to 4 with 1 being the best match (i.e. A in position 1 followed by 2-8 with matching nucleotides). Subsequently, gage (https://bioconductor.org/packages/release/bioc/html/gage.html) is applied to identify enriched miRNAs based on ranked genes (ranked by log10 rvm p-value, with direction based on log2 fold change values)

# Citation
If you use "runStreme()" in your analysis, please cite:
Luo, W., Friedman, M., Shedden K., Hankenson, K. and Woolf, P GAGE: Generally Applicable Gene Set Enrichment for Pathways Analysis. BMC Bioinformatics, 2009, 10:161
}

\examples{
#First prepare anota2seqUtils class object
# from anota2seq object
a2sU <- anota2seqUtilsStart(ads = anota2seqOutput, regulation =  c("translationUp","translationDown"), contrast = c(1,1), regulationGen = "translation", contrastSel = 1, selection ="random", source = 'load', species = 'human')
# or from geneList
a2sU <- anota2seqUtilsStart(geneList = inList, geneListcolours=c("#F2A104","#00743F"), effectMeasure = quantIn, selection ="random")

# Optionally run slope filtering 
filtOutGenes <- slopeFilt(ads = anota2seqOutput, regulationGen="translation", contrastSel=1, minSlope=-1, maxSlope=2)

# Download file with predicted (conserved) targets of conserved miRNA families with context++ scores from Target Scan database (https://www.targetscan.org) 
# Important, please subset the file for only desired specie:
{downloaded file}_filt <- {downloaded file}[{downloaded file}$Gene.Tax.ID == "9606",]

a2sU <- miRNAanalysis(a2sU = a2sU, miRNATargetScanFile= {downloaded file}_filt , genesSlopeFiltOut = filtOutGenes)

#To extract results, with direction to choose 'greater' or 'less'
resOut <- get_miRNA_results(a2sU = a2sU, direction)

#To extract miRNA targets with miRNAs vector of miRNAs id (for example: c("ptr-miR-497","ptr-miR-16"))
targetsOut <- get_miRNA_geneTargets(a2sU = a2sU, miRNAs)
}