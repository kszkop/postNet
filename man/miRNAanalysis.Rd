% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/miRNAanalysis.R
\name{miRNAanalysis}
\alias{miRNAanalysis}
\title{ miRNA enrichment analysis }

\usage{
miRNAanalysis(annot, miRNATargetScanFile, genesSlopeFiltOut = NULL, ads=NULL, regulationGen=NULL, contrastSel=NULL, customBg=NULL, rankIn=NULL)
}

\arguments{
\item{annot}{ An object containing reference sequences is obtained by the retrieveFormatData function. It is data.frame in format: id, geneID, UTR5_seq, CDS_seq, UTR3_seq }
\item{miRNATargetScanFile}{ name of a file including a path with predicted (conserved) targets of conserved miRNA families with context++ scores downloaded from the Target Scan database (https://www.targetscan.org). Important, please subset the file for only desired specie. }
\item{genesSlopeFiltOut}{ optionally, a character vector with gene ids to be filtered out based on slopes calculated by anota2seq for translation and buffering. The required object can be obtained using the slopeFilt function }
\item{ads}{ An anota2seq object (an output of anota2seqRun function from anota2seq package) }
\item{regulationGen}{ desired name of regulation from the anota2seq. Genes will be filtered out based on slope values calculated to the mode. Choose from "translation" or "buffering" }
\item{contrastSel}{ contrast in the anota2seq object to be analysed }
\item{customBg}{ There is an option to provide a custom set of background genes as a character vector instead of the anota2seq object. }
\item{rankIn}{ Rank index for customBg. If customBg is used instead of the anota2seq object, it is required. }
}

\value{
named list (by enriched miRNA ID) with gene signature vectors for a given miRNA. Genes in the signature are indicated by 1, not by 0. At first position of the list, the complete results are appended.
}

\description{
Employing gage and information about miRNA from the Target Scan database to obtain information about the enrichment of miRNA in a given dataset.
}

\details{
For each mRNA targeted by each mRNA, CWCS information on the repression magnitude is obtained. Data is filtered out based on that score (the lower the score the better repression) and Site.type  - 1 to 4 with 1 being the best match (i.e. A in position 1 followed by 2-8 with matching nucleotides). Subsequently, gage (https://bioconductor.org/packages/release/bioc/html/gage.html) is applied to identify enriched miRNAs based on ranked genes (ranked by log10 rvm p-value, with direction based on log2 fold change values)

# Citation
If you use "runStreme()" in your analysis, please cite:
Luo, W., Friedman, M., Shedden K., Hankenson, K. and Woolf, P GAGE: Generally Applicable Gene Set Enrichment for Pathways Analysis. BMC Bioinformatics, 2009, 10:161
}

\examples{
# Check available versions
checkAvailableVersions(species = "human")
# Load pre-existing reference sequences
annot <- retrieveFormatData(source="load", version="rel_109.20201120",species = "human")

# run slope filtering 
filtOutGenes <- slopeFilt(ads = anota2seqOutput, regulationGen="translation", contrastSel=1, minSlope=-1, maxSlope=2)

# Download file with predicted (conserved) targets of conserved miRNA families with context++ scores from Target Scan database (https://www.targetscan.org) 
# Important, please subset the file for only desired specie:
{downloaded file}_filt <- {downloaded file}[{downloaded file}$Gene.Tax.ID == "9606",]

miRNAsign <- miRNAanalysis(annot=annot, miRNATargetScanFile= {downloaded file}_filt , ads = anota2seqOutput regulationGen="translation", contrastSel=1)
}